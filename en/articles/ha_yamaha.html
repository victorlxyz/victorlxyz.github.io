<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Making my 2010 amp (Yamaha R-S300) a bit smarter</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 2rem;
      line-height: 1.6;
    }
    img {
      margin: 1rem 0;
      max-width: 100%;
      height: auto;
      border-radius: 5px;
    }
    pre {
      background: #f4f4f4;
      padding: 1rem;
      border-radius: 5px;
      overflow-x: auto;
    }
  </style>
</head>
<body>
  <h1>Making my 2010 amp (Yamaha R-S300) a bit smarter</h1>

  <img src="../images/article1-img1.png" alt="Picture of Yamaha R-S300 amp and remote" width="600">

  <p>
    I'm still using my trusty old amp with two pairs of speakers (one pair in the living room,
    the other in the kitchen). It's connected to my desktop PC (Line 1), an Apple Airport Express 1 (Line 2) and my TV (Tape).
  </p>

  <p>
    I use a Broadlink RM mini 3 (~€24) to control my amp remotely from my Home Assistant dashboard or the Stream Deck on my desk.
    The RM mini 3 acts as an IR remote that I can use to learn commands from my amp's original remote and then send commands using Home Assistant.
  </p>

  <img src="../images/article1-img2.png" alt="Learning a command in HA developer tools" width="600">

  <p>Set up the RM mini 3 remote using Broadlink's integration ...</p>

  <pre><code class="language-yaml">
sequence:
  - action: remote.send_command
    target:
      entity_id: remote.ir_remote
    data:
      device: amp
      command: amp_volume_down
alias: Amp - Volume Down
description: Amp - Volume Down
icon: mdi:volume-minus
  </code></pre>

  <p>Example script for HDMI Switcher:</p>

  <pre><code class="language-yaml">
sequence:
  - action: remote.send_command
    target:
      entity_id: remote.ir_remote
    data:
      device: hdmi_switcher
      command:
        - hdmi1_1
        - hdmi2_1
alias: HDMI Switcher - 1
description: Switches HDMI input to 1
  </code></pre>

  <img src="../images/article1-img3.png" alt="List of scripts with IR commands" width="600">

  <p>Example button-card config:</p>

  <pre><code class="language-yaml">
type: custom:button-card
color_type: card
color: rgb(210, 166, 172)
icon: mdi:power
tap_action:
  action: call-service
  service: script.amp_power
  </code></pre>

  <p>Blank card example:</p>

  <pre><code class="language-yaml">
- type: custom:button-card
  color_type: blank-card
  </code></pre>

  <img src="../images/article1-img4.png" alt="HA Dashboard with custom button cards" width="600">

  <p>
    Similarly, I *could* (haven't gotten to it… yet) use remote commands to switch
    the HDMI Switch output to HDMI 2 when my PS5 is on...
  </p>
</body>
</html>
